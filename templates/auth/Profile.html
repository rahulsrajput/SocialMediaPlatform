{% extends 'base.html' %}
{% load static %}
{% block title %}Profile{% endblock %}

{% block content %}
<h1>Profile</h1>

<hr class="mt-4">

<div class="mt-4 text-gray-300">

    <p>Username: {{user.username}}</p>
    <p>First Name: {{user.first_name}}</p>
    <p>Last Name: {{user.last_name}}</p>
    <p>Joined on: {{user.date_joined|date:"Y M"}}</p>

    <div class="mt-3 flex space-x-3">
        <a href="{% url 'followers' user %}">Followers: {{user.followers.all.count}}</a>
        <a href="{% url 'followings' user %}">Following: {{user.following.all.count}}</a>
    </div>

    <div class="mt-3">
        {% if is_own_profile %}
        <p>This is your profile. You can <a href="{% url 'edit_profile' request.user %}" class="text-white underline">edit</a> your information.</p>
        {% else %}
            <p>This is {{ user.username }}'s profile. You cannot edit this information.</p> 
                
            {% if request.user in user.followers.all %}
            <a href="{% url 'unfollow' user.username %}" class="text-red-300">UnFollow</a>
            {% else %}
            <a href="{% url 'follow' user.username %}" class="text-gray-300">Follow</a>
            {% endif %}

        {% endif %}
    </div>
</div>

<hr class="mt-4">

<h1 class="mt-4">My Tweets -</h1>
{% for tweet in tweets %}
    {% include 'tweet/Tweets.html' %}
{% empty %}
    <p>No tweets available.</p>
{% endfor %}


{% endblock %}